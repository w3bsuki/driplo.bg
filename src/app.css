@import 'tailwindcss';

/* Import modern fonts */
@import '@fontsource/inter/400.css';
@import '@fontsource/inter/500.css';
@import '@fontsource/inter/600.css';
@import '@fontsource/inter/700.css';
@import '@fontsource/plus-jakarta-sans/600.css';
@import '@fontsource/plus-jakarta-sans/700.css';
@import '@fontsource/jetbrains-mono/400.css';

/* Tailwind v4 alpha compatibility utilities */
/* Background utilities with opacity support */
.bg-background {
	background-color: hsl(var(--background));
}

.bg-muted {
	background-color: hsl(var(--muted));
}

.bg-muted\/50 {
	background-color: hsl(var(--muted) / 0.5);
}

/* Space utilities */
.space-y-1 > :not([hidden]) ~ :not([hidden]) {
	margin-top: 0.25rem;
}

.space-y-2 > :not([hidden]) ~ :not([hidden]) {
	margin-top: 0.5rem;
}

.space-y-3 > :not([hidden]) ~ :not([hidden]) {
	margin-top: 0.75rem;
}

.space-y-4 > :not([hidden]) ~ :not([hidden]) {
	margin-top: 1rem;
}

.space-y-6 > :not([hidden]) ~ :not([hidden]) {
	margin-top: 1.5rem;
}

.space-x-2 > :not([hidden]) ~ :not([hidden]) {
	margin-left: 0.5rem;
}

.space-x-3 > :not([hidden]) ~ :not([hidden]) {
	margin-left: 0.75rem;
}

.space-x-4 > :not([hidden]) ~ :not([hidden]) {
	margin-left: 1rem;
}

/* Fix for dropdown portals */
[data-portal] {
	position: fixed;
	z-index: 9999;
}

/* Ensure dropdown content is visible */
[data-slot='dropdown-menu-content'] {
	z-index: 9999 !important;
}

/* Fix for bits-ui dropdowns */
[data-state='open'][data-slot='dropdown-menu-content'] {
	opacity: 1 !important;
	transform: none !important;
}

/* Fix for category dropdown absolute positioning */
.absolute {
	position: absolute !important;
}

/* Ensure dropdowns appear above everything */
[data-slot='dropdown-menu-content'],
.z-\[100\],
.z-\[9999\] {
	z-index: 99999 !important;
}

/* Fix dropdown portal rendering */
[data-portal],
[data-radix-portal],
[data-melt-portal] {
	position: fixed !important;
	z-index: 99999 !important;
	pointer-events: auto !important;
}

/* TitanThreads Design System Tokens */
@theme {
	/* Primary Colors - Baby Blue */
	--color-primary-500: #87ceeb;
	--color-primary-600: #6bb6d8;
	--color-primary-700: #4f9fc5;

	/* Surface Colors */
	--color-surface-50: #ffffff;
	--color-surface-100: #fafafa;
	--color-surface-200: #f5f5f5;
	--color-surface-900: #0d0d0d;

	/* Mocha Colors */
	--color-mocha-400: #b89380;
	--color-mocha-500: #a47764;
	--color-mocha-600: #8f6554;

	/* Semantic Colors */
	--color-success-500: #21b572;
	--color-success-600: #15925b;
	--color-warning-500: #f1f955;
	--color-warning-600: #d9db44;
	--color-danger-500: #ef4444;
	--color-danger-600: #dc2626;

	/* Neutrals */
	--color-neutral-50: #fafafa;
	--color-neutral-100: #f5f5f5;
	--color-neutral-200: #e5e5e5;
	--color-neutral-300: #d4d4d4;
	--color-neutral-400: #a3a3a3;
	--color-neutral-500: #737373;
	--color-neutral-600: #525252;
	--color-neutral-700: #404040;
	--color-neutral-800: #262626;
	--color-neutral-900: #171717;

	/* Spacing & Typography */
	--radius-sm: 0.25rem;
	--radius-md: 0.5rem;
	--radius-lg: 0.75rem;
	--radius-xl: 1rem;

	/* Motion */
	--ease-snappy: cubic-bezier(0.2, 0, 0, 1);
	--duration-fast: 120ms;
	--duration-normal: 200ms;
	--duration-slow: 300ms;
}

/* Modern Design System CSS Custom Properties */
:root {
	/* ========== Color Tokens ========== */
	/* Brand Colors */
	--color-brand-50: #f0f9ff;
	--color-brand-100: #e0f2fe;
	--color-brand-200: #bae6fd;
	--color-brand-300: #7dd3fc;
	--color-brand-400: #38bdf8;
	--color-brand-500: #87ceeb;
	--color-brand-600: #6bb6d8;
	--color-brand-700: #4f9fc5;
	--color-brand-800: #3a88ae;
	--color-brand-900: #1e5a7e;
	--color-brand-950: #0a3a5e;

	/* Neutral Colors */
	--color-neutral-0: #ffffff;
	--color-neutral-50: #fafafa;
	--color-neutral-100: #f4f4f5;
	--color-neutral-200: #e4e4e7;
	--color-neutral-300: #d4d4d8;
	--color-neutral-400: #a1a1aa;
	--color-neutral-500: #71717a;
	--color-neutral-600: #52525b;
	--color-neutral-700: #3f3f46;
	--color-neutral-800: #27272a;
	--color-neutral-900: #18181b;
	--color-neutral-950: #09090b;

	/* Semantic Colors */
	--color-success-light: #dcfce7;
	--color-success-main: #22c55e;
	--color-success-dark: #16a34a;
	--color-warning-light: #fef3c7;
	--color-warning-main: #f59e0b;
	--color-warning-dark: #d97706;
	--color-error-light: #fee2e2;
	--color-error-main: #ef4444;
	--color-error-dark: #dc2626;
	--color-info-light: #dbeafe;
	--color-info-main: #3b82f6;
	--color-info-dark: #2563eb;

	/* ========== Typography ========== */
	--font-sans: 'Inter', system-ui, -apple-system, sans-serif;
	--font-mono: 'JetBrains Mono', monospace;
	--font-display: 'Plus Jakarta Sans', sans-serif;

	/* Font Sizes */
	--text-xs: 0.75rem; /* 12px */
	--text-sm: 0.875rem; /* 14px */
	--text-base: 1rem; /* 16px */
	--text-lg: 1.125rem; /* 18px */
	--text-xl: 1.25rem; /* 20px */
	--text-2xl: 1.5rem; /* 24px */
	--text-3xl: 1.875rem; /* 30px */
	--text-4xl: 2.25rem; /* 36px */
	--text-5xl: 3rem; /* 48px */

	/* Line Heights */
	--leading-xs: 1rem; /* 16px */
	--leading-sm: 1.25rem; /* 20px */
	--leading-base: 1.5rem; /* 24px */
	--leading-lg: 1.75rem; /* 28px */
	--leading-xl: 1.75rem; /* 28px */
	--leading-2xl: 2rem; /* 32px */
	--leading-3xl: 2.25rem; /* 36px */
	--leading-4xl: 2.5rem; /* 40px */
	--leading-5xl: 1;

	/* Font Weights */
	--font-normal: 400;
	--font-medium: 500;
	--font-semibold: 600;
	--font-bold: 700;

	/* Letter Spacing */
	--tracking-tighter: -0.05em;
	--tracking-tight: -0.025em;
	--tracking-normal: 0;
	--tracking-wide: 0.025em;
	--tracking-wider: 0.05em;

	/* ========== Spacing ========== */
	--spacing-px: 1px;
	--spacing-0: 0;
	--spacing-0-5: 0.125rem; /* 2px */
	--spacing-1: 0.25rem; /* 4px */
	--spacing-1-5: 0.375rem; /* 6px */
	--spacing-2: 0.5rem; /* 8px */
	--spacing-2-5: 0.625rem; /* 10px */
	--spacing-3: 0.75rem; /* 12px */
	--spacing-3-5: 0.875rem; /* 14px */
	--spacing-4: 1rem; /* 16px */
	--spacing-5: 1.25rem; /* 20px */
	--spacing-6: 1.5rem; /* 24px */
	--spacing-7: 1.75rem; /* 28px */
	--spacing-8: 2rem; /* 32px */
	--spacing-9: 2.25rem; /* 36px */
	--spacing-10: 2.5rem; /* 40px */
	--spacing-11: 2.75rem; /* 44px */
	--spacing-12: 3rem; /* 48px */
	--spacing-14: 3.5rem; /* 56px */
	--spacing-16: 4rem; /* 64px */
	--spacing-20: 5rem; /* 80px */
	--spacing-24: 6rem; /* 96px */

	/* ========== Component Sizes ========== */
	/* Button Heights */
	--button-height-xs: 28px;
	--button-height-sm: 32px;
	--button-height-md: 36px;
	--button-height-lg: 40px;
	--button-height-xl: 44px;

	/* Input Heights */
	--input-height-sm: 32px;
	--input-height-md: 40px;
	--input-height-lg: 48px;

	/* Touch Targets */
	--touch-target-min: 32px;
	--touch-target-sm: 36px;
	--touch-target-md: 40px;
	--touch-target-lg: 44px;

	/* Badge/Chip Heights */
	--badge-height-sm: 20px;
	--badge-height-md: 24px;
	--badge-height-lg: 28px;

	/* ========== Animation ========== */
	/* Durations */
	--duration-instant: 0ms;
	--duration-fast: 150ms;
	--duration-normal: 200ms;
	--duration-slow: 300ms;
	--duration-slower: 400ms;
	--duration-lazy: 600ms;

	/* Easings */
	--ease-linear: linear;
	--ease-in: cubic-bezier(0.4, 0, 1, 1);
	--ease-out: cubic-bezier(0, 0, 0.2, 1);
	--ease-in-out: cubic-bezier(0.4, 0, 0.2, 1);
	--ease-bounce: cubic-bezier(0.68, -0.55, 0.265, 1.55);
	--ease-elastic: cubic-bezier(0.68, -0.55, 0.185, 1.85);

	/* Transitions */
	--transition-fast: var(--duration-fast) var(--ease-in-out);
	--transition-normal: var(--duration-normal) var(--ease-in-out);
	--transition-slow: var(--duration-slow) var(--ease-in-out);

	/* ========== Elevation (Shadows) ========== */
	--shadow-xs: 0 1px 2px 0 rgb(0 0 0 / 0.05);
	--shadow-sm: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);
	--shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
	--shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
	--shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
	--shadow-2xl: 0 25px 50px -12px rgb(0 0 0 / 0.25);
	--shadow-inner: inset 0 2px 4px 0 rgb(0 0 0 / 0.05);

	/* ========== Z-Index Scale ========== */
	--z-base: 0;
	--z-dropdown: 100;
	--z-sticky: 200;
	--z-overlay: 300;
	--z-modal: 400;
	--z-popover: 500;
	--z-tooltip: 600;
	--z-notification: 700;

	/* ========== Border Radius ========== */
	--radius-none: 0;
	--radius-sm: 0.125rem;
	--radius-base: 0.25rem;
	--radius-md: 0.375rem;
	--radius-lg: 0.5rem;
	--radius-xl: 0.75rem;
	--radius-2xl: 1rem;
	--radius-3xl: 1.5rem;
	--radius-full: 9999px;
}

/* Light mode (default) */
@layer base {
	:root {
		/* Map to shadcn conventions */
		--background: 0 0% 100%; /* white */
		--foreground: 0 0% 6%; /* near black */

		--card: 0 0% 100%;
		--card-foreground: 0 0% 6%;

		--popover: 0 0% 100%;
		--popover-foreground: 0 0% 6%;

		/* Baby Blue primary */
		--primary: 197 71% 73%; /* #87CEEB */
		--primary-foreground: 0 0% 0%;

		/* Mocha secondary */
		--secondary: 22 22% 55%; /* #A47764 */
		--secondary-foreground: 0 0% 100%;

		--muted: 0 0% 96%;
		--muted-foreground: 0 0% 45%;

		/* Baby Blue accent */
		--accent: 197 71% 73%;
		--accent-foreground: 0 0% 0%;

		/* Semantic colors */
		--destructive: 0 84% 60%; /* red */
		--destructive-foreground: 0 0% 100%;

		/* Additional semantic tokens for badges */
		--success: 152 69% 42%; /* green */
		--success-foreground: 0 0% 100%;
		--warning: 61 95% 66%; /* yellow */
		--warning-foreground: 0 0% 6%;

		--border: 0 0% 90%;
		--input: 0 0% 90%;
		--ring: 197 71% 73%; /* baby blue */

		--radius: 0.5rem;
	}

	/* Dark mode */
	.dark {
		--background: 0 0% 5%; /* #0D0D0D */
		--foreground: 0 0% 98%;

		--card: 0 0% 8%;
		--card-foreground: 0 0% 98%;

		--popover: 0 0% 8%;
		--popover-foreground: 0 0% 98%;

		/* Adjusted baby blue for dark mode */
		--primary: 197 71% 65%; /* #6BB6D8 */
		--primary-foreground: 0 0% 100%;

		/* Adjusted mocha for dark mode */
		--secondary: 22 18% 40%; /* #7A5D4E */
		--secondary-foreground: 0 0% 98%;

		--muted: 0 0% 15%;
		--muted-foreground: 0 0% 65%;

		--accent: 197 71% 65%;
		--accent-foreground: 0 0% 100%;

		--destructive: 0 62% 30%;
		--destructive-foreground: 0 0% 98%;

		--success: 152 69% 35%;
		--warning: 61 95% 55%;

		--border: 0 0% 15%;
		--input: 0 0% 15%;
		--ring: 197 71% 65%;
	}

	/* Dark mode for modern design system */
	[data-theme='dark'] {
		/* Update semantic colors for dark mode */
		--color-background: var(--color-neutral-950);
		--color-surface: var(--color-neutral-900);
		--color-surface-secondary: var(--color-neutral-800);
		--color-text-primary: var(--color-neutral-50);
		--color-text-secondary: var(--color-neutral-400);
		--color-text-tertiary: var(--color-neutral-500);
		--color-border: var(--color-neutral-800);
		--color-border-hover: var(--color-neutral-700);

		/* Adjust shadows for dark mode */
		--shadow-xs: 0 1px 2px 0 rgb(0 0 0 / 0.2);
		--shadow-sm: 0 1px 3px 0 rgb(0 0 0 / 0.3), 0 1px 2px -1px rgb(0 0 0 / 0.3);
		--shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.3), 0 2px 4px -2px rgb(0 0 0 / 0.3);
		--shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.4), 0 4px 6px -4px rgb(0 0 0 / 0.4);
		--shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.4), 0 8px 10px -6px rgb(0 0 0 / 0.4);
		--shadow-2xl: 0 25px 50px -12px rgb(0 0 0 / 0.5);
	}
}

/* Base styles */
@layer base {
	* {
		border-color: hsl(var(--border));
	}

	body {
		background-color: hsl(var(--background));
		color: hsl(var(--foreground));
		font-feature-settings:
			'rlig' 1,
			'calt' 1;
	}

	/* Focus styles for accessibility */
	:focus-visible {
		outline: 2px solid hsl(var(--ring));
		outline-offset: 2px;
	}

	/* Motion preferences */
	@media (prefers-reduced-motion: reduce) {
		*,
		*::before,
		*::after {
			animation-duration: 0.01ms !important;
			animation-iteration-count: 1 !important;
			transition-duration: 0.01ms !important;
		}
	}
}

/* Custom utilities */
@layer utilities {
	/* Smooth animations */
	.animate-snappy {
		transition-timing-function: var(--ease-snappy);
	}

	/* Product card shadows */
	.shadow-product {
		box-shadow:
			0 1px 3px 0 rgb(0 0 0 / 0.05),
			0 1px 2px -1px rgb(0 0 0 / 0.05);
	}

	.shadow-product-hover {
		box-shadow:
			0 10px 15px -3px rgb(0 0 0 / 0.1),
			0 4px 6px -4px rgb(0 0 0 / 0.1);
	}

	/* Semantic color utilities */
	.bg-success {
		background-color: hsl(var(--success));
	}

	.text-success-foreground {
		color: hsl(var(--success-foreground));
	}

	.bg-warning {
		background-color: hsl(var(--warning));
	}

	.text-warning-foreground {
		color: hsl(var(--warning-foreground));
	}

	/* Scrollbar hide utility */
	.scrollbar-hide {
		-ms-overflow-style: none;
		scrollbar-width: none;
	}

	.scrollbar-hide::-webkit-scrollbar {
		display: none;
	}

	/* iOS form fixes */
	@supports (-webkit-touch-callout: none) {
		/* iOS specific styles */
		input[type='text'],
		input[type='email'],
		input[type='password'],
		input[type='tel'],
		input[type='number'],
		input[type='search'],
		textarea,
		select {
			font-size: 16px !important; /* Prevents zoom on iOS */
			-webkit-appearance: none;
			-webkit-text-size-adjust: 100%;
		}

		/* Prevent iOS bounce/elastic scrolling */
		body {
			width: 100%;
			overflow-y: auto;
			-webkit-overflow-scrolling: touch;
		}

		/* Fix for position fixed */
		.min-h-screen {
			min-height: 100vh;
			min-height: -webkit-fill-available;
		}
	}

	/* Modern Design System Utilities */
	/* Typography utilities */
	.font-sans {
		font-family: var(--font-sans);
	}
	.font-mono {
		font-family: var(--font-mono);
	}
	.font-display {
		font-family: var(--font-display);
	}

	/* Modern touch target sizes */
	.touch-target-min {
		min-width: var(--touch-target-min);
		min-height: var(--touch-target-min);
	}
	.touch-target-sm {
		min-width: var(--touch-target-sm);
		min-height: var(--touch-target-sm);
	}
	.touch-target-md {
		min-width: var(--touch-target-md);
		min-height: var(--touch-target-md);
	}
	.touch-target-lg {
		min-width: var(--touch-target-lg);
		min-height: var(--touch-target-lg);
	}

	/* Modern button sizes */
	.btn-xs {
		height: var(--button-height-xs);
		padding: 0 var(--spacing-2);
		font-size: var(--text-xs);
	}
	.btn-sm {
		height: var(--button-height-sm);
		padding: 0 var(--spacing-3);
		font-size: var(--text-sm);
	}
	.btn-md {
		height: var(--button-height-md);
		padding: 0 var(--spacing-4);
		font-size: var(--text-sm);
	}
	.btn-lg {
		height: var(--button-height-lg);
		padding: 0 var(--spacing-5);
		font-size: var(--text-base);
	}
	.btn-xl {
		height: var(--button-height-xl);
		padding: 0 var(--spacing-6);
		font-size: var(--text-base);
	}

	/* Modern input sizes */
	.input-sm {
		height: var(--input-height-sm);
		padding: 0 var(--spacing-3);
		font-size: var(--text-sm);
	}
	.input-md {
		height: var(--input-height-md);
		padding: 0 var(--spacing-4);
		font-size: var(--text-base);
	}
	.input-lg {
		height: var(--input-height-lg);
		padding: 0 var(--spacing-5);
		font-size: var(--text-lg);
	}

	/* Modern shadow utilities */
	.shadow-xs {
		box-shadow: var(--shadow-xs);
	}
	.shadow-sm {
		box-shadow: var(--shadow-sm);
	}
	.shadow-md {
		box-shadow: var(--shadow-md);
	}
	.shadow-lg {
		box-shadow: var(--shadow-lg);
	}
	.shadow-xl {
		box-shadow: var(--shadow-xl);
	}
	.shadow-2xl {
		box-shadow: var(--shadow-2xl);
	}
	.shadow-inner {
		box-shadow: var(--shadow-inner);
	}

	/* Animation utilities */
	.transition-fast {
		transition: all var(--transition-fast);
	}
	.transition-normal {
		transition: all var(--transition-normal);
	}
	.transition-slow {
		transition: all var(--transition-slow);
	}

	/* Micro-interaction utilities */
	.hover-lift {
		transition:
			transform var(--transition-normal),
			box-shadow var(--transition-normal);
	}
	.hover-lift:hover {
		transform: translateY(-2px);
		box-shadow: var(--shadow-lg);
	}

	.hover-grow {
		transition: transform var(--transition-normal);
	}
	.hover-grow:hover {
		transform: scale(1.02);
	}

	.active-scale {
		transition: transform var(--transition-fast);
	}
	.active-scale:active {
		transform: scale(0.97);
	}
}

/* ========== CUSTOM TAILWIND V4 UTILITIES ========== */
@utility button-size-xs {
	height: var(--button-height-xs);
	min-height: var(--button-height-xs);
	padding-inline: calc(var(--button-height-xs) * 0.5);
}

@utility button-size-sm {
	height: var(--button-height-sm);
	min-height: var(--button-height-sm);
	padding-inline: calc(var(--button-height-sm) * 0.5);
}

@utility button-size-md {
	height: var(--button-height-md);
	min-height: var(--button-height-md);
	padding-inline: calc(var(--button-height-md) * 0.5);
}

@utility button-size-lg {
	height: var(--button-height-lg);
	min-height: var(--button-height-lg);
	padding-inline: calc(var(--button-height-lg) * 0.5);
}

@utility button-size-xl {
	height: var(--button-height-xl);
	min-height: var(--button-height-xl);
	padding-inline: calc(var(--button-height-xl) * 0.5);
}

@utility input-size-sm {
	height: var(--input-height-sm);
	min-height: var(--input-height-sm);
	padding-inline: var(--spacing-4);
}

@utility input-size-md {
	height: var(--input-height-md);
	min-height: var(--input-height-md);
	padding-inline: var(--spacing-4);
}

@utility input-size-lg {
	height: var(--input-height-lg);
	min-height: var(--input-height-lg);
	padding-inline: var(--spacing-4);
}

@utility touch-safe {
	min-width: var(--touch-target-min);
	min-height: var(--touch-target-min);
}

@utility badge-size-sm {
	height: var(--badge-height-sm);
	padding-inline: var(--spacing-2);
	font-size: var(--text-xs);
	line-height: var(--badge-height-sm);
}

@utility badge-size-md {
	height: var(--badge-height-md);
	padding-inline: var(--spacing-2-5);
	font-size: var(--text-xs);
	line-height: var(--badge-height-md);
}

@utility badge-size-lg {
	height: var(--badge-height-lg);
	padding-inline: var(--spacing-3);
	font-size: var(--text-sm);
	line-height: var(--badge-height-lg);
}

@utility chip-size-sm {
	height: var(--badge-height-sm);
	padding-inline: var(--spacing-2);
	font-size: var(--text-xs);
	line-height: var(--badge-height-sm);
}

@utility chip-size-md {
	height: var(--badge-height-md);
	padding-inline: var(--spacing-3);
	font-size: var(--text-xs);
	line-height: var(--badge-height-md);
}

@utility chip-size-lg {
	height: var(--badge-height-lg);
	padding-inline: var(--spacing-3-5);
	font-size: var(--text-sm);
	line-height: var(--badge-height-lg);
}

/* Custom Variants for Tailwind v4 */
@variant reduce-motion {
	@media (prefers-reduced-motion: reduce) {
		@slot;
	}
}

@variant high-contrast {
	@media (prefers-contrast: high) {
		@slot;
	}
}
